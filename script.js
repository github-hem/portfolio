const translations = {
    en: {
        'site.title': 'Hem Bahadur Motra',
        'site.subtitle': 'Dr.-Ing. Researcher in geomechanics, rock physics, and geotechnical engineering',
        'site.affiliation': 'University of Kiel, Germany',
        'about.title': 'About',
        'about.p1': 'Dr.-Ing. Hem Bahadur Motra is a researcher and academic specializing in geomechanics, rock physics, and geotechnical engineering at the University of Kiel, Germany. His work advances the understanding of subsurface processes through innovative experimental and computational approaches.',
        'about.p2': 'He holds advanced degrees in civil and structural engineering and has completed extensive postdoctoral research in geotechnics, rock mechanics, and subsurface physics. As a research associate and head of the Geomechanics and Rock Mechanics Experimental Laboratory at Kiel University, he studies mechanical, thermal, and acoustic behavior of geomaterials under complex in situ conditions, bridging geosciences, civil engineering, and energy technologies.',
        'about.p3': 'He has authored 47 scientific documents with 920 citations and an h-index of 16, and has published in leading journals such as the International Journal of Rock Mechanics and Mining Sciences, Applied Energy, and Geotechnical and Geological Engineering. He has led and collaborated on national and international projects funded by the DFG, DAAD, and the EU, and serves as an editorial board member and special issue editor for several journals.',
        'education.title': 'Education and Qualification',
        'education.item1.title': 'Bauhaus-University Weimar, Germany',
        'education.item1.meta': 'PhD (Civil Engineering) · 2011-09 to 2014-10',
        'education.item2.title': 'University of Hannover, Germany',
        'education.item2.meta': 'MS.C. (Civil Engineering) · 2008-08 to 2010-10',
        'education.item3.title': 'Tribhuvan University Institute of Engineering, Nepal',
        'education.item3.meta': 'Bachelor (Civil Engineering) · 2002-07 to 2006-11',
        'employment.title': 'Employment',
        'employment.item1.title': 'Lecturer and Researcher (Geology)',
        'employment.item1.org': 'Kiel University, Germany',
        'employment.item1.meta': ' · 2014-10 to Present',
        'employment.item2.title': 'Research Assistant (Civil Engineering)',
        'employment.item2.org': 'Bauhaus-University Weimar, Germany',
        'employment.item2.meta': ' · 2011-01 to 2014-10',
        'teaching.title': 'Teaching',
        'teaching.item1': 'Geomechanics',
        'teaching.item2': 'Deep Excavation',
        'teaching.item3': 'Rock Mechanics',
        'teaching.item4': 'Fracture Mechanics',
        'teaching.item5': 'Geotechnical Engineering',
        'research.title': 'Research Topics',
        'research.item1': 'Experimental rock mechanics/physics and geomechanics from micro to macro scale',
        'research.item2': 'Influence of fractures on the hydro-mechanical behavior of rockmasses',
        'research.item3': 'Flow and transport in fractured porous media',
        'research.item4': 'Geo-energy applications: CO2 and H2 storage, nuclear waste disposal, gas shales, geothermal energy',
        'research.item5': 'Rock-fluid interaction: poroelasticity, poroviscoelasticity, plasticity, permeability, porosity waves',
        'research.item6': 'Multi-scale data integration and upscaling issues',
        'fellowships.title': 'Fellowships & Scholarships',
        'fellowships.item1': 'SEA-EU Travel Cost Scholarship',
        'fellowships.item2': 'Erasmus Teaching Grant',
        'fellowships.item3': 'DAAD Scholarship',
        'fellowships.item4': 'Mahatma Gandhi Scholarship Scheme',
        'fellowships.item5': 'Golden Jubilee Scholarship Scheme',
        'fellowships.item6': 'EGU Higher Education Teaching Resources Grant',
        'memberships.title': 'Academic Memberships and Activities',
        'memberships.item1.prefix': 'Technical Committee,',
        'memberships.item1.link': 'American Rock Mechanics Association',
        'memberships.item1.suffix': ' (Hydraulic Fracturing, Tunneling, Underground Storage and Utilization, Induced Seismicity)',
        'memberships.item2': 'Technical Committee, International Association for Structural Safety and Reliability (ICOSSAR), Structural Safety and Reliability',
        'memberships.item3': 'Technical Committee, International Society for Soil Mechanics and Geotechnical Engineering (Laboratory Stress-Strain Strength Testing of Geomaterials)',
        'memberships.item4': 'Expert section, DGGT \"Rock Mechanics\" Working Group Member',
        'memberships.item5': 'Technical Committee, Commission 32, IAEG (Engineering Geology and Rural Infrastructures)',
        'memberships.item6': 'International Society of Soil Mechanics and Geotechnical Engineering (ISSMGE)',
        'memberships.item7': 'International Association of Rock Physicists',
        'memberships.item8': 'German Society for Geotechnics (DGGT)',
        'memberships.item9': 'Alumni of Future Ocean Excellence Cluster and Integrated Marine Postdoc Network',
        'memberships.item10': 'EGU, European Geosciences Union',
        'memberships.item11': 'SEG, Society of Exploration Geophysicists',
        'editorial.title': 'Journal Editor and Reviewer Roles',
        'editorial.item1': 'Editorial Board Member, Discover Geoscience (Springer Nature)',
        'editorial.item2': 'Special Issue Editor “Reliability, Risk, and Hazard Assessment of Marine Structures” (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item3': 'Topical Advisory Panel Member, Journal of Marine Science and Engineering (MDPI)',
        'editorial.item4': 'Special Issue Editor “Advances in Marine Geotechnical Engineering – 2nd Edition” (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item5': 'Special Issue Editor “Advances in Marine Geotechnical Engineering” (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item6': 'Special Issue Editor “Applications of AI Tools in Petroleum Industry from Geosciences to Engineering” (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item7': 'Editorial Board Member, International Journal of Petroleum Technology (Avanti)',
        'editorial.item8': 'Editorial Board Member, SCIREA Journal of Geoscience; SCIREA Journal of Civil Engineering and Building Construction (ISSN: 2995-6889)',
        'editorial.item9': 'Associate Editor, Current Trends in Civil & Structural Engineering (CTCSE) and Insights in Mining Science & Technology; reviewer for Scientific Reports, Journal of Applied Geophysics, Energy Geoscience, ACS Omega, and ACS Applied Nano Materials',
        'publications.title': 'Selected Publications',
        'publications.item1.title': 'Sethi, C., Hazra, B., Ostadhassan, M., Motra, H.B., Dutta, A., Panday, J.K., Kumar, S. (2024)',
        'publications.item1.meta': 'Depositional environmental controls on mechanical stratigraphy of Barakar Shales in Rajmahal Basin, India. International Journal of Coal Geology.',
        'publications.item2.title': 'Wang, C., Liu, B., Mohammadi, M-R., Fu, L., Fattahi, E., Motra, H.B., et al. (2024)',
        'publications.item2.meta': 'Integrating experimental study and intelligent modeling of pore evolution in the Bakken during simulated thermal progression for CO2 storage goals.',
        'publications.item3.title': 'Sadeghpour, F., Darkhal, A., Gao, Y., Motra, H.B., et al. (2024)',
        'publications.item3.meta': 'Comparison of geomechanical upscaling methods for prediction of elastic modulus of heterogeneous media.',
        'publications.item4.title': 'Punturo, R., Mineo, S., Motra, H.B., et al. (2024)',
        'publications.item4.meta': 'Greenstone of Calabria: a multi-analytical characterization of heritage metabasite from Southern Italy.',
        'publications.item5.title': 'Hailemariam, H., Blume, N., Motra, H.B., Wuttke, F. (2023)',
        'publications.item5.meta': 'Static and dynamic behavior of cemented heat storage materials.',
        'publications.item6.title': 'Liu, B., Mohammadi, M.R., Ma, Z., Bai, L., et al. (2023)',
        'publications.item6.meta': 'Experimental investigation and intelligent modeling of pore structure changes in type III kerogen-rich shale. Energy.',
        'links.title': 'Links',
        'contact.title': 'Contact',
        'contact.email': 'Email',
        'contact.back': 'Back to top'
    },
    de: {
        'site.title': 'Hem Bahadur Motra',
        'site.subtitle': 'Dr.-Ing. Forscher für Geomechanik, Gesteinsphysik und Geotechnik',
        'site.affiliation': 'Universität Kiel, Deutschland',
        'about.title': 'Über mich',
        'about.p1': 'Dr.-Ing. Hem Bahadur Motra ist Forscher und Wissenschaftler mit Schwerpunkt Geomechanik, Gesteinsphysik und Geotechnik an der Universität Kiel, Deutschland. Seine Arbeit vertieft das Verständnis von Untergrundprozessen durch innovative experimentelle und rechnergestützte Ansätze.',
        'about.p2': 'Er besitzt Abschlüsse in Bau- und Konstruktivem Ingenieurwesen und hat umfassende Postdoc-Forschung in Geotechnik, Felsmechanik und Untergrundphysik durchgeführt. Als wissenschaftlicher Mitarbeiter und Leiter des Experimental Labors für Geomechanik und Felsmechanik an der Universität Kiel untersucht er das mechanische, thermische und akustische Verhalten von Geomaterialien unter komplexen In-situ-Bedingungen und verbindet Geowissenschaften, Bauingenieurwesen und Energietechnologien.',
        'about.p3': 'Er hat 47 wissenschaftliche Arbeiten mit 920 Zitierungen und einem h-Index von 16 veröffentlicht und in führenden Fachzeitschriften wie International Journal of Rock Mechanics and Mining Sciences, Applied Energy und Geotechnical and Geological Engineering publiziert. Er leitete und koordinierte nationale sowie internationale Projekte, gefördert durch DFG, DAAD und die EU, und ist Editorial Board Member sowie Special Issue Editor in mehreren Fachzeitschriften.',
        'education.title': 'Ausbildung und Qualifikation',
        'education.item1.title': 'Bauhaus-Universität Weimar, Deutschland',
        'education.item1.meta': 'Promotion (Bauingenieurwesen) · 2011-09 bis 2014-10',
        'education.item2.title': 'Universität Hannover, Deutschland',
        'education.item2.meta': 'M.Sc. (Bauingenieurwesen) · 2008-08 bis 2010-10',
        'education.item3.title': 'Tribhuvan University Institute of Engineering, Nepal',
        'education.item3.meta': 'Bachelor (Bauingenieurwesen) · 2002-07 bis 2006-11',
        'employment.title': 'Berufserfahrung',
        'employment.item1.title': 'Dozent und Forscher (Geologie)',
        'employment.item1.org': 'Universität Kiel, Deutschland',
        'employment.item1.meta': ' · 2014-10 bis heute',
        'employment.item2.title': 'Wissenschaftlicher Mitarbeiter (Bauingenieurwesen)',
        'employment.item2.org': 'Bauhaus-Universität Weimar, Deutschland',
        'employment.item2.meta': ' · 2011-01 bis 2014-10',
        'teaching.title': 'Lehre',
        'teaching.item1': 'Geomechanik',
        'teaching.item2': 'Tiefbaugruben',
        'teaching.item3': 'Felsmechanik',
        'teaching.item4': 'Bruchmechanik',
        'teaching.item5': 'Geotechnik',
        'research.title': 'Forschungsthemen',
        'research.item1': 'Experimentelle Gesteinsmechanik/‑physik und Geomechanik vom Mikro‑ bis Makroskalenbereich',
        'research.item2': 'Einfluss von Klüften auf das hydro‑mechanische Verhalten von Felsmassen',
        'research.item3': 'Strömung und Transport in geklüfteten porösen Medien',
        'research.item4': 'Geoenergie-Anwendungen: CO2- und H2-Speicherung, Endlagerung, Schiefergas, Geothermie',
        'research.item5': 'Gesteins‑Fluid‑Wechselwirkung: Poroelastizität, Poroviskoelastizität, Plastizität, Permeabilität, Porositätswellen',
        'research.item6': 'Multi‑Skalen‑Datenintegration und Upscaling',
        'fellowships.title': 'Stipendien und Förderungen',
        'fellowships.item1': 'SEA‑EU Reisekostenstipendium',
        'fellowships.item2': 'Erasmus Teaching Grant',
        'fellowships.item3': 'DAAD Stipendium',
        'fellowships.item4': 'Mahatma‑Gandhi‑Stipendienprogramm',
        'fellowships.item5': 'Golden‑Jubilee‑Stipendienprogramm',
        'fellowships.item6': 'EGU Higher Education Teaching Resources Grant',
        'memberships.title': 'Mitgliedschaften und Aktivitäten',
        'memberships.item1.prefix': 'Technisches Komitee,',
        'memberships.item1.link': 'American Rock Mechanics Association',
        'memberships.item1.suffix': ' (Hydraulic Fracturing, Tunneling, Underground Storage and Utilization, Induced Seismicity)',
        'memberships.item2': 'Technisches Komitee, International Association for Structural Safety and Reliability (ICOSSAR), Structural Safety and Reliability',
        'memberships.item3': 'Technisches Komitee, International Society for Soil Mechanics and Geotechnical Engineering (Laboratory Stress-Strain Strength Testing of Geomaterials)',
        'memberships.item4': 'Expert Section, DGGT „Rock Mechanics“ Working Group Member',
        'memberships.item5': 'Technisches Komitee, Commission 32, IAEG (Engineering Geology and Rural Infrastructures)',
        'memberships.item6': 'International Society of Soil Mechanics and Geotechnical Engineering (ISSMGE)',
        'memberships.item7': 'International Association of Rock Physicists',
        'memberships.item8': 'Deutsche Gesellschaft für Geotechnik (DGGT)',
        'memberships.item9': 'Alumni des Future Ocean Excellence Cluster und Integrated Marine Postdoc Network',
        'memberships.item10': 'EGU, European Geosciences Union',
        'memberships.item11': 'SEG, Society of Exploration Geophysicists',
        'editorial.title': 'Herausgeber- und Gutachtertätigkeiten',
        'editorial.item1': 'Editorial Board Member, Discover Geoscience (Springer Nature)',
        'editorial.item2': 'Special Issue Editor „Reliability, Risk, and Hazard Assessment of Marine Structures“ (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item3': 'Topical Advisory Panel Member, Journal of Marine Science and Engineering (MDPI)',
        'editorial.item4': 'Special Issue Editor „Advances in Marine Geotechnical Engineering – 2nd Edition“ (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item5': 'Special Issue Editor „Advances in Marine Geotechnical Engineering“ (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item6': 'Special Issue Editor „Applications of AI Tools in Petroleum Industry from Geosciences to Engineering“ (Journal of Marine Science and Engineering, MDPI)',
        'editorial.item7': 'Editorial Board Member, International Journal of Petroleum Technology (Avanti)',
        'editorial.item8': 'Editorial Board Member, SCIREA Journal of Geoscience; SCIREA Journal of Civil Engineering and Building Construction (ISSN: 2995-6889)',
        'editorial.item9': 'Associate Editor, Current Trends in Civil & Structural Engineering (CTCSE) und Insights in Mining Science & Technology; Reviewer für Scientific Reports, Journal of Applied Geophysics, Energy Geoscience, ACS Omega und ACS Applied Nano Materials',
        'publications.title': 'Ausgewählte Publikationen',
        'publications.item1.title': 'Sethi, C., Hazra, B., Ostadhassan, M., Motra, H.B., Dutta, A., Panday, J.K., Kumar, S. (2024)',
        'publications.item1.meta': 'Depositional environmental controls on mechanical stratigraphy of Barakar Shales in Rajmahal Basin, India. International Journal of Coal Geology.',
        'publications.item2.title': 'Wang, C., Liu, B., Mohammadi, M-R., Fu, L., Fattahi, E., Motra, H.B., et al. (2024)',
        'publications.item2.meta': 'Integrating experimental study and intelligent modeling of pore evolution in the Bakken during simulated thermal progression for CO2 storage goals.',
        'publications.item3.title': 'Sadeghpour, F., Darkhal, A., Gao, Y., Motra, H.B., et al. (2024)',
        'publications.item3.meta': 'Comparison of geomechanical upscaling methods for prediction of elastic modulus of heterogeneous media.',
        'publications.item4.title': 'Punturo, R., Mineo, S., Motra, H.B., et al. (2024)',
        'publications.item4.meta': 'Greenstone of Calabria: a multi-analytical characterization of heritage metabasite from Southern Italy.',
        'publications.item5.title': 'Hailemariam, H., Blume, N., Motra, H.B., Wuttke, F. (2023)',
        'publications.item5.meta': 'Static and dynamic behavior of cemented heat storage materials.',
        'publications.item6.title': 'Liu, B., Mohammadi, M.R., Ma, Z., Bai, L., et al. (2023)',
        'publications.item6.meta': 'Experimental investigation and intelligent modeling of pore structure changes in type III kerogen-rich shale. Energy.',
        'links.title': 'Links',
        'contact.title': 'Kontakt',
        'contact.email': 'E-Mail',
        'contact.back': 'Nach oben'
    }
};

const galleryImages = Array.from(document.querySelectorAll('img[data-gallery="portfolio"]'));
const lightbox = document.getElementById('lightbox');
const lightboxImage = document.getElementById('lightboxImage');
const lightboxClose = document.querySelector('.lightbox-close');
const lightboxPrev = document.querySelector('.lightbox-prev');
const lightboxNext = document.querySelector('.lightbox-next');
const langButtons = Array.from(document.querySelectorAll('.lang-btn'));

let currentIndex = 0;

const applyTranslations = (lang) => {
    const dictionary = translations[lang] || translations.en;
    document.documentElement.setAttribute('lang', lang);
    document.querySelectorAll('[data-i18n]').forEach((el) => {
        const key = el.getAttribute('data-i18n');
        if (dictionary[key]) {
            el.textContent = dictionary[key];
        }
    });
    langButtons.forEach((btn) => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
    localStorage.setItem('preferredLanguage', lang);
};

const openLightbox = (index) => {
    if (!galleryImages.length) {
        return;
    }
    currentIndex = index;
    const target = galleryImages[currentIndex];
    lightboxImage.src = target.src;
    lightboxImage.alt = target.alt || 'Gallery image';
    lightbox.classList.add('open');
    lightbox.setAttribute('aria-hidden', 'false');
};

const closeLightbox = () => {
    lightbox.classList.remove('open');
    lightbox.setAttribute('aria-hidden', 'true');
};

const showNext = () => {
    currentIndex = (currentIndex + 1) % galleryImages.length;
    openLightbox(currentIndex);
};

const showPrev = () => {
    currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
    openLightbox(currentIndex);
};

galleryImages.forEach((img, index) => {
    img.addEventListener('click', () => openLightbox(index));
    img.addEventListener('keypress', (event) => {
        if (event.key === 'Enter') {
            openLightbox(index);
        }
    });
    img.style.cursor = 'pointer';
    img.setAttribute('tabindex', '0');
});

lightboxClose?.addEventListener('click', closeLightbox);
lightboxPrev?.addEventListener('click', showPrev);
lightboxNext?.addEventListener('click', showNext);

lightbox?.addEventListener('click', (event) => {
    if (event.target === lightbox) {
        closeLightbox();
    }
});

document.addEventListener('keydown', (event) => {
    if (!lightbox.classList.contains('open')) {
        return;
    }
    if (event.key === 'Escape') {
        closeLightbox();
    } else if (event.key === 'ArrowRight') {
        showNext();
    } else if (event.key === 'ArrowLeft') {
        showPrev();
    }
});

langButtons.forEach((btn) => {
    btn.addEventListener('click', () => applyTranslations(btn.dataset.lang));
});

applyTranslations(localStorage.getItem('preferredLanguage') || 'en');
